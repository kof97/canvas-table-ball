{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/ball.js","src/js/main.js","src/js/playerA.js","src/js/playerB.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"script.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var canvas = document.getElementById('myCanvas'),\r\n\tctx = canvas.getContext('2d');\r\n\r\nvar ball = {\r\n\tradius: 10,\r\n\tx: canvas.width / 2,\r\n\ty: canvas.height / 2,\r\n\tdx: 2,\r\n\tdy: -2,\r\n\r\n\tdrawBall: function() {\r\n\t\tctx.beginPath();\r\n\t\tvar ballImage = new Image();\r\n\t\tballImage.src = \"dist/images/ball.png\";\r\n\t\tctx.drawImage(ballImage, ball.x, ball.y, 2 * ball.radius, 2 * ball.radius);\r\n\t\tctx.closePath();\r\n\t},\r\n}\r\n\r\nmodule.exports = ball;\r\n","var canvas = document.getElementById('myCanvas'),\r\n\tctx = canvas.getContext('2d');\r\n\r\nvar a = require(\"./playerA\"),\r\n\tb = require(\"./playerB\"),\r\n\tball = require(\"./ball\");\r\n\r\nvar attchEvent = {\r\n\tspeed: 10,\r\n\r\n\tlistener: function() {\r\n\t\t\r\n\t\tfunction keyDownHandler(e) {\r\n\r\n\t\t\tif (e.keyCode == 38) {\r\n\t\t\t\tb.topPressed = true;\r\n\t\t\t};\r\n\r\n\t\t\tif (e.keyCode == 40) {\r\n\t\t\t\tb.downPressed = true;\r\n\t\t\t};\r\n\r\n\t\t\tif (e.keyCode == 87) {\r\n\t\t\t\ta.topPressed = true;\r\n\t\t\t};\r\n\r\n\t\t\tif (e.keyCode == 83) {\r\n\t\t\t\ta.downPressed = true;\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tfunction keyUpHandler(e) {\r\n\r\n\t\t\tif (e.keyCode == 38) {\r\n\t\t\t\tb.topPressed = false;\r\n\t\t\t};\r\n\r\n\t\t\tif (e.keyCode == 40) {\r\n\t\t\t\tb.downPressed = false;\r\n\t\t\t};\r\n\r\n\t\t\tif (e.keyCode == 87) {\r\n\t\t\t\ta.topPressed = false;\r\n\t\t\t};\r\n\r\n\t\t\tif (e.keyCode == 83) {\r\n\t\t\t\ta.downPressed = false;\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tdocument.addEventListener(\"keydown\", keyDownHandler, false);\r\n\t\tdocument.addEventListener(\"keyup\", keyUpHandler, false);\r\n\t},\r\n\r\n\tmove: function() {\r\n\r\n\t\tif (b.downPressed && b.y < canvas.height - b.height) {\r\n\t\t\tb.y += attchEvent.speed;\r\n\t\t} else if (b.topPressed && b.y > 0) {\r\n\t\t\tb.y -= attchEvent.speed;\r\n\t\t}\r\n\r\n\t\tif (a.downPressed && a.y < canvas.height - a.height) {\r\n\t\t\ta.y += attchEvent.speed;\r\n\t\t} else if (a.topPressed && a.y > 0) {\r\n\t\t\ta.y -= attchEvent.speed;\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nvar game = {\r\n\r\n\trunStatus: 0,\r\n\r\n\treset: function() {\r\n\t\t\r\n\t\tfunction getEventPosition(e){\r\n\t\t\tvar x, y;  \r\n\t\t\tif (e.layerX || e.layerX == 0) {\r\n\t\t\t\tx = e.layerX;\r\n\t\t\t\ty = e.layerY;\r\n\t\t\t} else if (e.offsetX || e.offsetX == 0) {\r\n\t\t\t\tx = e.offsetX;\r\n\t\t\t\ty = e.offsetY;\r\n\t\t\t}  \r\n\r\n\t\t\treturn {x: x, y: y};\r\n\r\n\t\t} \r\n\r\n\t\tfunction start(e) {\r\n\t\t\tp = getEventPosition(e);\r\n\t\t\t \r\n\t\t\tif (p.x > 265 && p.x < 435 && p.y > 115 && p.y < 285) {\r\n\t\t\t\tgame.runStatus = 1;\r\n\r\n\t\t\t\tvar rate = (function() {\r\n\t\t\t\t\tvar k = Math.random() * 10;\r\n\t\t\t\t\tif (k <= 1) {\r\n\t\t\t\t\t\tk += 1;\r\n\t\t\t\t\t} else if (k >= 9) {\r\n\t\t\t\t\t\tk -= 1;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\treturn (k * 0.1);\r\n\r\n\t\t\t\t}());\r\n\r\n\t\t\t\tball.x = canvas.width * rate;\r\n\t\t\t\tball.y = canvas.height * rate;\r\n\t\t\t\tball.dx *= -1;\r\n\t\t\t\tball.dy *= -1;\r\n\r\n\t\t\t\tcanvas.removeEventListener('click', start, false);\r\n\t\t\t\tdocument.removeEventListener(\"keydown\", keyDownStart, false);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction keyDownStart(e) {\r\n\r\n\t\t\tif (e.keyCode == 32) {\r\n\t\t\t\tgame.runStatus = 1;\r\n\r\n\t\t\t\tvar rate = (function() {\r\n\t\t\t\t\tvar k = Math.random() * 10;\r\n\t\t\t\t\tif (k <= 1) {\r\n\t\t\t\t\t\tk += 1;\r\n\t\t\t\t\t} else if (k >= 9) {\r\n\t\t\t\t\t\tk -= 1;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\treturn (k * 0.1);\r\n\r\n\t\t\t\t}());\r\n\r\n\t\t\t\tball.x = canvas.width * rate;\r\n\t\t\t\tball.y = canvas.height * rate;\r\n\t\t\t\tball.dx *= -1;\r\n\t\t\t\tball.dy *= -1;\r\n\r\n\t\t\t\tcanvas.removeEventListener('click', start, false);\r\n\t\t\t\tdocument.removeEventListener(\"keydown\", keyDownStart, false);\r\n\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t\tctx.beginPath();\r\n\t\tvar bgImage = new Image();\r\n\t\tbgImage.src = \"dist/images/start1.png\";\r\n\t\tctx.drawImage(bgImage, canvas.width / 2 - 90, canvas.height / 2 - 90, 180, 180);\r\n\t\t \r\n\t\tcanvas.addEventListener('click', start, false);\r\n\t\tdocument.addEventListener(\"keydown\", keyDownStart, false);\r\n\r\n\t\tctx.closePath();\r\n\r\n\t},\r\n\r\n\tcollisionTest: function() {\r\n\t\tif (ball.x + ball.dx < 0) {\r\n\r\n\t\t\tif (ball.y > a.y - 10 && ball.y < a.y + a.height + 10) {\r\n\t\t\t\tball.dx = -ball.dx;\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// game over\r\n\t\t\t\tb.score += 1;\r\n\t\t\t\tgame.runStatus = 0;\r\n\r\n\t\t\t};\r\n\r\n\t\t} else if (ball.x + ball.dx > canvas.width - 2 * ball.radius) {\r\n\r\n\t\t\tif (ball.y > b.y - 10 && ball.y < b.y + b.height + 10) {\r\n\t\t\t\tball.dx = -ball.dx;\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// game over\r\n\t\t\t\ta.score += 1;\r\n\t\t\t\tgame.runStatus = 0;\r\n\r\n\t\t\t};\r\n\r\n\t\t};\r\n\r\n\t\tif (ball.y + ball.dy > canvas.height - 2 * ball.radius || ball.y + ball.dy < 0) {\r\n\t\t\tball.dy = -ball.dy;\r\n\t\t};\r\n\r\n\t\tball.x += ball.dx;\r\n\t\tball.y += ball.dy;\r\n\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\tctx.beginPath();\r\n\t\tvar bgImage = new Image();\r\n\t\tbgImage.src = \"dist/images/bg.gif\";\r\n\t\tctx.drawImage(bgImage, 0, 0, canvas.width, canvas.height);\r\n\t\tctx.closePath();\r\n\r\n\t\tball.drawBall();\r\n\r\n\t\ta.drawPlayerA();\r\n\t\tb.drawPlayerB();\r\n\r\n\t\ta.drawScore();\r\n\t\tb.drawScore();\r\n\r\n\t\tif (game.runStatus == 0) {\r\n\t\t\tgame.reset();\r\n\t\t} else {\r\n\r\n\t\t\tattchEvent.move();\r\n\t\t\tgame.collisionTest();\r\n\r\n\t\t};\r\n\t\t\r\n\t},\r\n\r\n\tinit: function() {\r\n\t\tattchEvent.listener();\r\n\r\n\t\tsetInterval(game.draw, 10);\r\n\r\n\t}\r\n\r\n}\r\n\r\ngame.init();\r\n","var canvas = document.getElementById('myCanvas'),\r\n\tctx = canvas.getContext('2d');\r\n\r\nvar playerA = {\r\n\twidth: 10,\r\n\theight: 80,\r\n\tx: 1,\r\n\ty: null,\r\n\tspeed: 10,\r\n\tscore: 0,\r\n\r\n\ttopPressed: false,\r\n\tdownPressed: false,\r\n\r\n\tdrawPlayerA: function() {\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(playerA.x, playerA.y, playerA.width, playerA.height);\r\n\t\tctx.fillStyle = \"#4E8DF5\";\r\n\t\tctx.fill();\r\n\t\tctx.closePath();\r\n\t},\r\n\r\n\tdrawScore: function() {\r\n\t\tctx.beginPath();\r\n\t\tctx.font = \"25px Arial\";\r\n\t\tctx.fillStyle = \"#000\";\r\n\t\tctx.fillText(\"Score: \" + playerA.score, 30, canvas.height - 2);\r\n\t\tctx.closePath();\r\n\t}\r\n\r\n}\r\n\r\nplayerA.y = (canvas.height - playerA.height) / 2;\r\n\r\nmodule.exports = playerA;\r\n","var canvas = document.getElementById('myCanvas'),\r\n\tctx = canvas.getContext('2d');\r\n\r\nvar playerB = {\r\n\twidth: 10,\r\n\theight: 80,\r\n\tx: null,\r\n\ty: null,\r\n\tspeed: 10,\r\n\tscore: 0,\r\n\r\n\ttopPressed: false,\r\n\tdownPressed: false,\r\n\r\n\tdrawPlayerB: function() {\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(playerB.x, playerB.y, playerB.width, playerB.height);\r\n\t\tctx.fillStyle = \"#4E8DF5\";\r\n\t\tctx.fill();\r\n\t\tctx.closePath();\r\n\t},\r\n\r\n\tdrawScore: function() {\r\n\t\tctx.beginPath();\r\n\t\tctx.font = \"25px Arial\";\r\n\t\tctx.fillStyle = \"#000\";\r\n\t\tctx.fillText(\"Score: \" + playerB.score, canvas.width / 1.2, canvas.height - 2);\r\n\t\tctx.closePath();\r\n\t}\r\n}\r\n\r\nplayerB.x = canvas.width - playerB.width;\r\nplayerB.y = (canvas.height - playerB.height) / 2;\r\n\r\nmodule.exports = playerB;\r\n"]}